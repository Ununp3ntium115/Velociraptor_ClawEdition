# CDIF / Steering KB Manifest
# Purpose: machine-readable catalog of canonical knowledge-base entrypoints
# Generated: 2026-02-02
version: 1

purpose: >
  Provide a stable, path-correct manifest for CDIF + Steering knowledge (schematics,
  workflows, plans) so agents can find the right documents after repo cleanup/reorg.

roots:
  - steering/
  - .kiro/steering/
  - Velociraptor_macOS_App/steering/
  - apps/macos-legacy/   # CDIF catalog + TestingAgent + MCP sources
  - docs/
  - .claude/agents/
  - .github/agents/

exclude_globs:
  # Vendor/build output (noise)
  - "**/node_modules/**"
  - "**/.build/**"
  - "**/.swiftpm/**"
  - "**/DerivedData/**"
  - "**/Packages/**"
  - "**/.git/**"
  # Ephemeral artifacts (do not commit)
  - "tests/results/**"

canonical_anchors:
  kb_index: "steering/CDIF_KB_INDEX.md"
  kb_manifest: "steering/CDIF_KB_MANIFEST.yaml"
  workspace_path_index: "docs/WORKSPACE_PATH_INDEX.md"

  cdif:
    archetypes_catalog: "apps/macos-legacy/CDIF_TEST_ARCHETYPES.md"
    agent_registry: ".claude/agents/MACOS_SDLC_AGENT_PROMPTS.md"
    mcp_agent_config: ".claude/agents/mcp/agent-configs.yaml"

  macos_app:
    workspace: "apps/macos-legacy/"
    app_source: "apps/macos-legacy/VelociraptorMacOS/"
    unit_tests: "apps/macos-legacy/VelociraptorMacOSTests/"
    ui_tests: "apps/macos-legacy/VelociraptorMacOSUITests/"
    entitlements: "apps/macos-legacy/VelociraptorMacOS/VelociraptorMacOS.entitlements"
    xcodegen_project: "apps/macos-legacy/project.yml"

  steering:
    gap_registry_hex: "Velociraptor_macOS_App/steering/HEXADECIMAL-GAP-REGISTRY.md"
    implementation_guide_hex: "Velociraptor_macOS_App/steering/MACOS-IMPLEMENTATION-GUIDE.md"
    implementation_guide_steering_copy: "steering/macos-app/macOS-Implementation-Guide.md"
    qa_test_plan: "steering/MACOS_QA_TEST_PLAN.md"
    ui_control_inventory: "steering/MACOS_UI_CONTROL_INVENTORY.md"

# Legacy path aliases seen across older docs (translate to canonical paths)
path_aliases:
  - from: "VelociraptorMacOS/README.md"
    to: "apps/macos-legacy/README.md"
    note: "Root-level macOS README moved; canonical docs live under apps/macos-legacy."
  - from: "VelociraptorMacOS/project.yml"
    to: "apps/macos-legacy/project.yml"
  - from: "VelociraptorMacOS/VelociraptorMacOS.entitlements"
    to: "apps/macos-legacy/VelociraptorMacOS/VelociraptorMacOS.entitlements"
  - from: "VelociraptorMacOS/VelociraptorMacOS.xcodeproj"
    to: "apps/macos-legacy/VelociraptorMacOS.xcodeproj"
    note: "Generated by xcodegen; not committed."
  - from: "Velociraptor_macOS_App/VelociraptorMacOS/"
    to: "apps/macos-legacy/VelociraptorMacOS/"

search_order:
  - "steering/CDIF_KB_INDEX.md"
  - "apps/macos-legacy/CDIF_TEST_ARCHETYPES.md"
  - "docs/WORKSPACE_PATH_INDEX.md"
  - "Velociraptor_macOS_App/steering/HEXADECIMAL-GAP-REGISTRY.md"
  - "Velociraptor_macOS_App/steering/MACOS-IMPLEMENTATION-GUIDE.md"
  - "steering/MACOS_QA_TEST_PLAN.md"
  - "steering/MACOS_UI_CONTROL_INVENTORY.md"

documents:
  # KB entrypoints
  - id: "KB-CDIF-INDEX"
    path: "steering/CDIF_KB_INDEX.md"
    tags: ["kb", "cdif", "steering", "index"]
  - id: "KB-WORKSPACE-PATH-INDEX"
    path: "docs/WORKSPACE_PATH_INDEX.md"
    tags: ["paths", "index", "canonical"]
  - id: "KB-CDIF-ARCHETYPES"
    path: "apps/macos-legacy/CDIF_TEST_ARCHETYPES.md"
    tags: ["cdif", "archetypes", "testing"]

  # Agent system (CDIF registry + orchestration)
  - id: "KB-AGENTS-PROMPTS"
    path: ".claude/agents/MACOS_SDLC_AGENT_PROMPTS.md"
    tags: ["agents", "cdif", "mcp", "sdlc"]
  - id: "KB-AGENTS-README"
    path: ".claude/agents/README.md"
    tags: ["agents", "quickstart"]
  - id: "KB-MCP-AGENT-CONFIG"
    path: ".claude/agents/mcp/agent-configs.yaml"
    tags: ["mcp", "agents", "anchors"]
  - id: "KB-GITHUB-MACOS-DEV-AGENT"
    path: ".github/agents/macos-development-agent.md"
    tags: ["github", "agents", "macos", "development"]

  # macOS gap registry + implementation plan
  - id: "KB-MACOS-GAP-REGISTRY"
    path: "Velociraptor_macOS_App/steering/HEXADECIMAL-GAP-REGISTRY.md"
    tags: ["macos", "gaps", "registry"]
  - id: "KB-MACOS-IMPLEMENTATION-GUIDE"
    path: "Velociraptor_macOS_App/steering/MACOS-IMPLEMENTATION-GUIDE.md"
    tags: ["macos", "implementation", "plan"]
  - id: "KB-MACOS-IMPLEMENTATION-GUIDE-STEERING"
    path: "steering/macos-app/macOS-Implementation-Guide.md"
    tags: ["macos", "implementation", "steering"]

  # Steering corpus (curated)
  - id: "KB-STEERING-STRUCTURE"
    path: "steering/structure.md"
    tags: ["steering", "structure"]
  - id: "KB-STEERING-TECH"
    path: "steering/tech.md"
    tags: ["steering", "tech"]
  - id: "KB-STEERING-PRODUCT"
    path: "steering/product.md"
    tags: ["steering", "product"]
  - id: "KB-STEERING-MACOS-QA-PLAN"
    path: "steering/MACOS_QA_TEST_PLAN.md"
    tags: ["macos", "qa", "uat", "testing"]
  - id: "KB-STEERING-MACOS-UCI"
    path: "steering/MACOS_UI_CONTROL_INVENTORY.md"
    tags: ["macos", "ui", "accessibility", "automation"]
  - id: "KB-STEERING-MACOS-MASTER-ITERATION"
    path: "steering/MACOS_MASTER_ITERATION_PLAN.md"
    tags: ["macos", "iteration", "plan"]
  - id: "KB-STEERING-MACOS-PRODUCTION-GAP-ANALYSIS"
    path: "steering/MACOS_PRODUCTION_READINESS_GAP_ANALYSIS.md"
    tags: ["macos", "production", "gaps"]
  - id: "KB-STEERING-MACOS-VERIFICATION"
    path: "steering/MACOS_VERIFICATION_SUMMARY.md"
    tags: ["macos", "verification"]
  - id: "KB-STEERING-MACOS-CODE-REVIEW"
    path: "steering/MACOS_CODE_REVIEW_ANALYSIS.md"
    tags: ["macos", "code-review"]
  - id: "KB-STEERING-ISSUES-STATUS"
    path: "steering/GITHUB_ISSUES_STATUS.md"
    tags: ["github", "issues", "tracking"]
  - id: "KB-STEERING-ISSUE-CLOSEOUT"
    path: "steering/ISSUE_CLOSEOUT_TODO.md"
    tags: ["github", "issues", "closeout"]
  - id: "KB-STEERING-MACOS-PRODUCTION-COMPLETE"
    path: "steering/MACOS_PRODUCTION_COMPLETE.md"
    tags: ["macos", "production"]
  - id: "KB-STEERING-MACOS-IMPLEMENTATION-COMPLETE"
    path: "steering/MACOS_IMPLEMENTATION_COMPLETE.md"
    tags: ["macos", "implementation"]
  - id: "KB-STEERING-MACOS-GAP-ANALYSIS-ITERATION-2"
    path: "steering/MACOS_GAP_ANALYSIS_ITERATION_2.md"
    tags: ["macos", "gap-analysis"]
  - id: "KB-STEERING-MACOS-FINAL-SUMMARY"
    path: "steering/MACOS_FINAL_SUMMARY.md"
    tags: ["macos", "summary"]
  - id: "KB-STEERING-MACOS-DEV-STAGE-COMPLETE"
    path: "steering/MACOS_DEVELOPMENT_STAGE_COMPLETE.md"
    tags: ["macos", "sdlc", "completion"]

